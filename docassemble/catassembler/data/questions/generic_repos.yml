include:
  - nav.yml
  - shared.yml
---
modules:
  - .get_repositories
  - .parse_cli_args
---
mandatory: True
question: |
  ${ current_repo['name'] } 
subquestion: |
  ${ current_repo['description'] } 
  
  ${ current_repo['license'] }
  
  % if current_repo['readme']:
  ${ display_template(template, scrollable=True, collapse=True) }
  % endif
  
  ${ action_button_html(current_repo['url'], label="View on Github") }
  
  % if current_repo['name'] == "instagram-location-search":
  ${ action_button_html(interview_url(i=user_info().package + ":instagram-location-search.yml", reset=1), label="Run instagram-location-search") }
  % endif
 
---
template: template
subject: README
content: |
  ${ current_repo['readme'] }
---
code: |
  repos = fetch_bellingcat_repos()
  current_repo = None
  
  for repo in repos: 
    if url_args.get('name') == repo['name']:
      current_repo = repo
      
  args = get_cli_args(current_repo)
---